<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Convert data types</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20240425"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20240425"></script><script type="text/javascript" src="docdata/toc.js?ts=20240425"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20240425"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20240425">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2023.2</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UIE-runtime-binding-data-type-conversion.html">English</a></li>
<li><a href="/cn/current/Manual/UIE-runtime-binding-data-type-conversion.html">中文</a></li>
<li><a href="/ja/current/Manual/UIE-runtime-binding-data-type-conversion.html">日本語</a></li>
<li><a href="/kr/current/Manual/UIE-runtime-binding-data-type-conversion.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2023.2</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UIE-runtime-binding-data-type-conversion.html">English</a></li>
<li><a href="/cn/current/Manual/UIE-runtime-binding-data-type-conversion.html">中文</a></li>
<li><a href="/ja/current/Manual/UIE-runtime-binding-data-type-conversion.html">日本語</a></li>
<li><a href="/kr/current/Manual/UIE-runtime-binding-data-type-conversion.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UIToolkits.html">User interface (UI)</a></li>
<li><a href="UIElements.html">UI Toolkit</a></li>
<li><a href="UIE-data-binding.html">Data binding</a></li>
<li><a href="UIE-runtime-binding.html">Runtime data binding</a></li>
<li>Convert data types</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-runtime-binding-mode-update.html"></a></span><div class="tip">Define binding mode and update trigger</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-runtime-binding-logging-levels.html"></a></span><div class="tip">Define logging levels</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Convert data types</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>You can use type converters to convert data types between the data source and the <span class="tooltip"><strong>UI</strong><span class="tooltiptext">(User Interface) Allows a user to interact with your application. Unity currently supports three UI systems. <a class="tooltipMoreInfoLink" href="UI-system-compare.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#UI">Glossary</a></span></span></span>. This allows you to:</p>

<ul>
<li>Bind data types that are different from the UI, such as binding to a <code>Texture2D</code> property from an <code>int</code> value.</li>
<li>Convert data types that are the same as the UI when you want a different representation of the data, such as displaying an angle in degrees instead of radians.</li>
</ul>

<p>There are two categories of type converters: global converters and per-binding converters. </p>

<h2>Global converters</h2>

<p>Global converters are statically registered and are available to all binding instances, regardless of the binding modes. The binding system provides several pre-registered global converters for convenience, such as converters between style values and their underlying data representation. You can use them to bind a regular <code>float</code> or a <code>StyleKeyword</code> to a <code>StyleFloat</code> property, instead of using <code>StyleFloat</code> in the data source.</p>

<p>To register a global converter, use the <a href="../ScriptReference/UIElements.ConverterGroups.RegisterGlobalConverter.html"><code>ConverterGroups.RegisterGlobalConverter</code></a> method. This method requires a delegate to convert a source type to a destination type. The delegate must be a <code>ref</code> delegate to enable bidirectional usage. Upon registration, global converters automatically apply to any binding instances requiring that specific type of conversion, without any additional configuration.</p>

<p>The following example registers a global converter that converts between a <code>Texture2D</code> and a <code>TextureHandle</code>:</p>

<pre><code class="lang-csharp">public struct TextureHandle
{
    public static Texture2D ResolveTexture(TextureHandle handle)
    {
        return /* Actual texture */; 
    } 
    
   public static FromTexture(Texture2D texture)
   {
        return new TextureHandle { handle = /* Compute handle */ }; 
   }

    public int handle;
}

// Registers the global converter
ConverterGroups.RegisterGlobalConverter((ref TextureHandle handle) =&gt; TextureHandle.ResolveTexture(handle));
ConverterGroups.RegisterGlobalConverter((ref Texture2D texture) =&gt; TextureHandle.FromTexture(texture));
</code></pre>

<h2>Per-binding converters</h2>

<p>Per-binding converters apply to a specific binding instance. You can register an individual or a group of per-binding converters.</p>

<h3>Individual converter</h3>

<p>To register an individual converter, use the <a href="../ScriptReference/UIElements.DataBinding.sourceToUiConverters.AddConverter.html"><code>DataBinding.sourceToUiConverters.AddConverter</code></a> or <a href="../ScriptReference/UIElements.DataBinding.uiToSourceConverters.AddConverter.html"><code>DataBinding.uiToSourceConverters.AddConverter</code></a> method. These methods require a delegate to convert a source type to a destination type. The delegate must be a <code>ref</code> delegate to enable bidirectional usage.</p>

<p>The following example registers and applies individual converters to convert between radians and degrees for a binding instance:</p>

<pre><code class="lang-csharp">var binding = new DataBinding();
binding.sourceToUiConverters.AddConverter((ref float radian) =&gt; Mathf.RadToDeg * radian);
binding.uiToSourceConverters.AddConverter((ref float degree) =&gt; Mathf.DegToRad * degree);
</code></pre>

<h3>Group converter</h3>

<p>To register a group of converters and apply them to a <code>DataBinding</code> instance, use the <a href="../ScriptReference/UIElements.ConverterGroup.html"><code>ConverterGroup</code></a> class.</p>

<p>The following example shows how to register a group of converters:</p>

<pre><code class="lang-csharp">// Create a converter group
var group = new ConverterGroup(&quot;Inverters&quot;);

// Add converters to the converter group
group.AddConverter((ref int v) =&gt; -v);
group.AddConverter((ref float v) =&gt; -v);
group.AddConverter((ref double v) =&gt; -v);
// Register the converter group
ConverterGroups.RegisterConverterGroup(group);


// Add a converter to an existing converter group
if (ConverterGroups.TryGetConverterGroup(&quot;Inverters&quot;, out var group))
{
    group.AddConverter((ref short v) =&gt; -v);
}
</code></pre>

<h3>Apply a converter group</h3>

<p>After you have registered a converter group, you can apply it to a binding instance. You can apply a converter group to a binding instance in C#, UI Builder, or UXML.</p>

<p>To apply a converter group in C#, use the <a href="../ScriptReference/UIElements.DataBinding.ApplyConverterGroupToUI.html"><code>DataBinding.ApplyConverterGroupToUI</code></a> or <a href="../ScriptReference/UIElements.DataBinding.ApplyConverterGroupToSource.html"><code>DataBinding.ApplyConverterGroupToSource</code></a> method. These methods take a converter group name as a parameter. </p>

<p>The following example applies the converter group <code>Inverters</code> to a binding instance in C#:</p>

<pre><code class="lang-csharp">var binding = new DataBinding();
if (ConverterGroups.TryGetConverterGroup(&quot;Inverters&quot;, out var group))
{
    binding.ApplyConverterGroupToUI(group);
    binding.ApplyConverterGroupToSource(group);
}
</code></pre>

<p>
<strong>Note</strong>: When you apply a converter group onto another one, it operates in a “fire-and-forget” manner. This means that when you apply the converter group, it independently performs its intended function without additional ongoing monitoring or management from you. </p>

<p>The following example applies the converter group <code>Inverters</code> to a binding in UXML:</p>

<pre><code class="lang-xml">&lt;ui:DataBinding source-to-ui-converters=&quot;Inverters&quot; ui-to-source-converters=&quot;Inverters&quot; /&gt;
</code></pre>

<p>For details about how to apply a converter group in UI Builder, refer to <a href="UIE-get-started-runtime-binding.html">Get started with runtime binding</a>.</p>

<h2>Best practices</h2>

<p>Follow these tips and best practices to optimize performance:</p>

<ul>
<li>
<strong>Minimize memory allocation</strong>: Whenever possible, avoid writing conversion delegates that allocate memory, particularly when dealing with <code>enum</code> types. Allocating memory during conversions can introduce unnecessary overhead and impact performance. Instead, opt for efficient and memory-friendly conversion approaches.</li>
<li>
<strong>Keep converters efficient</strong>: It’s important to keep converters focused on performing quick and efficient type conversions. Avoid performing extensive tasks or complex operations within converters, as this can lead to decreased performance and potentially introduce unnecessary complexity.</li>
<li>
<strong>Integrate type conversion in the data source</strong>: Instead of relying solely on per-binding conversions, consider incorporating the type conversion directly into your data source. By handling the conversion within the data source itself, you can streamline the process and potentially improve overall performance. This approach can also reduce the complexity associated with managing conversions on a per-binding basis.</li>
</ul>

<h2>Known limitations</h2>

<p>Source and destination types must match perfectly unless they’re of type <code>UnityEngine.Object</code>. For example, you can’t convert an <code>int</code> to a <code>float</code>, or a <code>float</code> to an <code>int</code>. This can be inconvenient, especially with <code>enum</code> types. This limitation will be addressed in a future release.</p>

<h2>Additional resources</h2>

<ul>
<li><a href="UIE-runtime-binding.html">Runtime data binding</a></li>
<li><a href="UIE-get-started-runtime-binding.html">Get started with runtime binding</a></li>
<li><a href="UIE-runtime-binding-types.html">Create runtime data binding</a></li>
<li><a href="UIE-runtime-binding-custom-types.html">Create custom binding types</a></li>
<li><a href="UIE-runtime-binding-define-data-source.html">Define a data source</a></li>
<li><a href="UIE-runtime-binding-logging-levels.html">Define logging levels</a></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-runtime-binding-mode-update.html"></a></span><div class="tip">Define binding mode and update trigger</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-runtime-binding-logging-levels.html"></a></span><div class="tip">Define logging levels</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2024 Unity Technologies. Publication Date: 2024-04-25.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
